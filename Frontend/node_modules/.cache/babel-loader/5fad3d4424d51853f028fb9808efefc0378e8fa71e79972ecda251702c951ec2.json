{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\airline system\\\\Frontend\\\\src\\\\scheduledflight\\\\component\\\\AddScheduledFlights.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport ScheduledFlight from \"../model/scheduledflight\";\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\nimport { useNavigate } from \"react-router-dom\";\nimport FlightService from \"../../flight/service/FlightService\";\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddScheduledFlights() {\n  _s();\n  const service = new ScheduledFlightService();\n  const flightService = new FlightService();\n  const scheduleService = new ScheduleService();\n  const navigate = useNavigate();\n  const [state, changeState] = React.useState({\n    scheduledFlight: new ScheduledFlight()\n  });\n  const [flights, changeFlights] = React.useState([]);\n  const [schedules, changeSchedules] = React.useState([]);\n  const [scheduleId, changeScheduleId] = React.useState([]);\n  const [flightId, changeFlightId] = React.useState();\n  React.useEffect(() => {\n    if (sessionStorage.getItem('userId') == null) {\n      alert('Unauthorised Access to Page.');\n      navigate('/login');\n    }\n    flightService.getAllFlights().then(data => {\n      changeFlights(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting list of planes(flights)\");\n    });\n    scheduleService.getSchedules().then(data => {\n      changeSchedules(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting schedules\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-dark px-4 py-2\",\n          children: \"Schedule a flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"scheduleId\",\n          value: scheduleId,\n          onChange: event => changeScheduleId(event.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this), schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: schedule.scheduleId,\n            children: [schedule.sourceAirport.airportLocation, \" to \", schedule.destinationAirport.airportLocation, \", at \", new Date(schedule.departureTime).getHours(), \":\", new Date(schedule.departureTime).getMinutes(), \" to \", new Date(schedule.arrivalTime).getHours(), \":\", new Date(schedule.arrivalTime).getMinutes(), \", on \", new Date(schedule.departureTime.slice(0, 10)).getDate(), \" \", new Date(schedule.departureTime.slice(0, 10)).toLocaleString('default', {\n              month: 'short'\n            }), \" \", new Date(schedule.departureTime.slice(0, 10)).getFullYear()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"flightId\",\n          value: flightId,\n          onChange: event => {\n            changeFlightId(event.target.value);\n            flightService.getFlight(event.target.value).then(data => {\n              changeState({\n                scheduledFlight: {\n                  ...state.scheduledFlight,\n                  availableSeats: data.data.seatCapacity\n                }\n              });\n            }).catch(() => {\n              alert(\"Change error.\");\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a flight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), flights.map(flight => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: flight.flightNumber,\n            children: [\"Flight \", flight.flightNumber, \", \", flight.carrierName, \". \", flight.flightModel, \", seat capacity: \", flight.seatCapacity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: event => {\n          event.preventDefault();\n          service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(() => {\n            alert(\"Scheduled Flight added\");\n            navigate(\"/scheduleFlight/admin\");\n          }).catch(() => {\n            alert(\"Problem in adding scheduled flights.\");\n          });\n        },\n        children: \"Add scheduled flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(AddScheduledFlights, \"0Tpp0NZZsoObPyTis/SRifqJ+8k=\", false, function () {\n  return [useNavigate];\n});\n_c = AddScheduledFlights;\nexport default AddScheduledFlights;\nvar _c;\n$RefreshReg$(_c, \"AddScheduledFlights\");","map":{"version":3,"names":["React","ScheduledFlight","ScheduledFlightService","useNavigate","FlightService","ScheduleService","AddScheduledFlights","service","flightService","scheduleService","navigate","state","changeState","useState","scheduledFlight","flights","changeFlights","schedules","changeSchedules","scheduleId","changeScheduleId","flightId","changeFlightId","useEffect","sessionStorage","getItem","alert","getAllFlights","then","data","catch","getSchedules","event","target","value","map","schedule","sourceAirport","airportLocation","destinationAirport","Date","departureTime","getHours","getMinutes","arrivalTime","slice","getDate","toLocaleString","month","getFullYear","getFlight","availableSeats","seatCapacity","flight","flightNumber","carrierName","flightModel","preventDefault","addScheduledFlight"],"sources":["C:/Users/HP/Desktop/airline system/Frontend/src/scheduledflight/component/AddScheduledFlights.js"],"sourcesContent":["import React from \"react\";\nimport ScheduledFlight from \"../model/scheduledflight\";\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\nimport { useNavigate } from \"react-router-dom\";\nimport FlightService from \"../../flight/service/FlightService\";\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\n\nfunction AddScheduledFlights(){\n    const service = new ScheduledFlightService();\n    const flightService = new FlightService();\n    const scheduleService = new ScheduleService();\n    const navigate = useNavigate();\n    const[state, changeState] = React.useState({scheduledFlight: new ScheduledFlight()});\n    const[flights, changeFlights] = React.useState([]);\n    const[schedules, changeSchedules] = React.useState([]);\n    const[scheduleId, changeScheduleId] = React.useState([]);\n    const[flightId, changeFlightId] = React.useState();\n    React.useEffect(()=>{\n        if(sessionStorage.getItem('userId')==null) {\n            alert('Unauthorised Access to Page.');\n            navigate('/login');\n        }\n        flightService.getAllFlights().then((data)=>{\n            changeFlights(data.data);\n        }).catch(()=>{\n            alert(\"Problem in getting list of planes(flights)\");\n        })\n        scheduleService.getSchedules().then((data)=>{\n            changeSchedules(data.data);\n        }).catch(()=>{\n            alert(\"Problem in getting schedules\");\n        })\n    }, []);\n    return(\n        <div className=\"my-4\">\n            <form>\n                <h2><span className='badge badge-dark px-4 py-2'>Schedule a flight</span></h2>\n                <div class=\"form-group\">\n                    <label>Schedule</label>\n                    <select class=\"form-control\" id=\"scheduleId\"\n                    value = {scheduleId}\n                    onChange = {(event)=>changeScheduleId(event.target.value)}>\n                    <option>Choose a schedule</option> \n                    {schedules.map((schedule)=>(\n                        <option value={schedule.scheduleId}>{schedule.sourceAirport.airportLocation} to {schedule.destinationAirport.airportLocation}, at {new Date(schedule.departureTime).getHours()}:{new Date(schedule.departureTime).getMinutes()} to {new Date(schedule.arrivalTime).getHours()}:{new Date(schedule.arrivalTime).getMinutes()}, on {new Date(schedule.departureTime.slice(0,10)).getDate()} {new Date(schedule.departureTime.slice(0,10)).toLocaleString('default', {month: 'short'})} {new Date(schedule.departureTime.slice(0,10)).getFullYear()}</option>  \n                    ))}\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label>Flight</label>\n                    <select class=\"form-control\" id=\"flightId\"\n                    value = {flightId}\n                    onChange = {(event)=>{\n                        changeFlightId(event.target.value);\n                        flightService.getFlight(event.target.value).then((data)=>{\n                            changeState({scheduledFlight: {...state.scheduledFlight, availableSeats: data.data.seatCapacity}});\n                        }).catch(()=>{\n                            alert(\"Change error.\");\n                        })\n                    }}>\n                    <option>Choose a flight</option> \n                    {flights.map((flight)=>(\n                        <option value={flight.flightNumber}>Flight {flight.flightNumber}, {flight.carrierName}. {flight.flightModel}, seat capacity: {flight.seatCapacity}</option>  \n                    ))}\n                    </select>\n                </div>\n                <button className=\"btn btn-primary\" onClick={(event)=>{\n                    event.preventDefault();\n                    service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(()=>{\n                        alert(\"Scheduled Flight added\");\n                        navigate(\"/scheduleFlight/admin\")\n                    }).catch(()=>{\n                        alert(\"Problem in adding scheduled flights.\")\n                    })\n                    \n                }}>Add scheduled flight</button>\n            </form>\n        </div>\n    );\n}\n\nexport default AddScheduledFlights;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}