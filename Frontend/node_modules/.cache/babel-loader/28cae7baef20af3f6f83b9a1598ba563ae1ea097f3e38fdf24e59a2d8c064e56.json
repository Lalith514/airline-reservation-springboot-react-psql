{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\AirlineManagement-main\\\\Frontend\\\\src\\\\scheduledflight\\\\component\\\\UpdateScheduledFlights.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\nimport ScheduledFlight from \"../model/scheduledflight\";\nimport FlightService from \"../../flight/service/FlightService\";\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateScheduledFlights() {\n  _s();\n  const service = new ScheduledFlightService();\n  const flightService = new FlightService();\n  const scheduleService = new ScheduleService();\n  const navigate = useNavigate();\n  const {\n    flightNumber\n  } = useParams();\n  const [state, changeState] = React.useState({\n    scheduledFlight: new ScheduledFlight()\n  });\n  const [flights, changeFlights] = React.useState([]);\n  const [schedules, changeSchedules] = React.useState([]);\n  const [scheduleId, changeScheduleId] = React.useState([]);\n  const [flightId, changeFlightId] = React.useState();\n  React.useEffect(() => {\n    service.findScheduledFlight(flightNumber).then(data => {\n      changeState({\n        scheduledFlight: data.data\n      });\n    }).catch(() => {\n      alert(\"Problem in getting scheuded flight data\");\n    });\n    flightService.getAllFlights().then(data => {\n      changeFlights(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting list of planes(flights)\");\n    });\n    scheduleService.getSchedules().then(data => {\n      changeSchedules(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting schedules\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-dark px-4 py-2\",\n          children: [\"Update scheduled flight \", state.scheduledFlight.scheduleFlightId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Schedule Flight Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          id: \"flightnumber\",\n          name: \"flightnumber\",\n          placeholder: \"Scheduled Flight ID\",\n          value: state.scheduledFlight.scheduleFlightId,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"scheduleId\",\n          value: state.scheduledFlight.schedule.scheduleId,\n          onChange: event => changeScheduleId(event.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: schedule.scheduleId,\n            children: [schedule.sourceAirport.airportLocation, \" to \", schedule.destinationAirport.airportLocation, \", at \", new Date(schedule.departureTime).getHours(), \":\", new Date(schedule.departureTime).getMinutes(), \" to \", new Date(schedule.arrivalTime).getHours(), \":\", new Date(schedule.arrivalTime).getMinutes()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"flightId\",\n          value: state.scheduledFlight.flight.flightNumber,\n          onChange: event => {\n            changeFlightId(event.target.value);\n            flightService.getFlight(event.target.value).then(data => {\n              changeState({\n                scheduledFlight: {\n                  ...state.scheduledFlight,\n                  availableSeats: data.data.seatCapacity\n                }\n              });\n            }).catch(() => {\n              alert(\"Change error.\");\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a flight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this), flights.map(flight => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: flight.flightNumber,\n            children: [\"Flight \", flight.flightNumber, \", \", flight.carrierName, \". \", flight.flightModel, \", seat capacity: \", flight.seatCapacity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: event => {\n          event.preventDefault();\n          service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(() => {\n            alert(\"Scheduled Flight added\");\n            navigate(\"/links\");\n          }).catch(() => {\n            alert(\"Problem in adding scheduled flights.\");\n          });\n        },\n        children: \"Add schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(UpdateScheduledFlights, \"PHv/tixSzk3ONt5bShkVhL5EEms=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = UpdateScheduledFlights;\nexport default UpdateScheduledFlights;\nvar _c;\n$RefreshReg$(_c, \"UpdateScheduledFlights\");","map":{"version":3,"names":["React","useNavigate","useParams","ScheduledFlightService","ScheduledFlight","FlightService","ScheduleService","UpdateScheduledFlights","service","flightService","scheduleService","navigate","flightNumber","state","changeState","useState","scheduledFlight","flights","changeFlights","schedules","changeSchedules","scheduleId","changeScheduleId","flightId","changeFlightId","useEffect","findScheduledFlight","then","data","catch","alert","getAllFlights","getSchedules","scheduleFlightId","schedule","event","target","value","map","sourceAirport","airportLocation","destinationAirport","Date","departureTime","getHours","getMinutes","arrivalTime","flight","getFlight","availableSeats","seatCapacity","carrierName","flightModel","preventDefault","addScheduledFlight"],"sources":["C:/Users/HP/Desktop/AirlineManagement-main/Frontend/src/scheduledflight/component/UpdateScheduledFlights.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\nimport ScheduledFlight from \"../model/scheduledflight\";\nimport FlightService from \"../../flight/service/FlightService\";\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\n\nfunction UpdateScheduledFlights(){\n    const service = new ScheduledFlightService();\n    const flightService = new FlightService();\n    const scheduleService = new ScheduleService();\n    const navigate = useNavigate();\n    const{ flightNumber } = useParams();\n    const[state, changeState] = React.useState({scheduledFlight: new ScheduledFlight()});\n    const[flights, changeFlights] = React.useState([]);\n    const[schedules, changeSchedules] = React.useState([]);\n    const[scheduleId, changeScheduleId] = React.useState([]);\n    const[flightId, changeFlightId] = React.useState();\n    React.useEffect(()=>{\n        service.findScheduledFlight(flightNumber).then((data)=>{\n            changeState({scheduledFlight: data.data});\n        }).catch(()=>{\n            alert(\"Problem in getting scheuded flight data\");\n        })\n        flightService.getAllFlights().then((data)=>{\n            changeFlights(data.data);\n        }).catch(()=>{\n            alert(\"Problem in getting list of planes(flights)\");\n        })\n        scheduleService.getSchedules().then((data)=>{\n            changeSchedules(data.data);\n        }).catch(()=>{\n            alert(\"Problem in getting schedules\");\n        })\n    }, []);\n    return(\n        <div className=\"my-4\">\n            <form>\n                <h2><span className='badge badge-dark px-4 py-2'>Update scheduled flight {state.scheduledFlight.scheduleFlightId}</span></h2>\n                <div class=\"form-group\">\n                    <label>Schedule Flight Id</label>\n                    <input className=\"form-control\" type=\"text\" id=\"flightnumber\" name=\"flightnumber\" placeholder=\"Scheduled Flight ID\" value={state.scheduledFlight.scheduleFlightId} readOnly />\n                </div>\n                <div class=\"form-group\">\n                    <label>Schedule</label>\n                    <select class=\"form-control\" id=\"scheduleId\"\n                    value = {state.scheduledFlight.schedule.scheduleId}\n                    onChange = {(event)=>changeScheduleId(event.target.value)}>\n                    <option>Choose a schedule</option> \n                    {schedules.map((schedule)=>(\n                        <option value={schedule.scheduleId}>{schedule.sourceAirport.airportLocation} to {schedule.destinationAirport.airportLocation}, at {new Date(schedule.departureTime).getHours()}:{new Date(schedule.departureTime).getMinutes()} to {new Date(schedule.arrivalTime).getHours()}:{new Date(schedule.arrivalTime).getMinutes()}</option>  \n                    ))}\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label>Flight</label>\n                    <select class=\"form-control\" id=\"flightId\"\n                    value = {state.scheduledFlight.flight.flightNumber}\n                    onChange = {(event)=>{\n                        changeFlightId(event.target.value);\n                        flightService.getFlight(event.target.value).then((data)=>{\n                            changeState({scheduledFlight: {...state.scheduledFlight, availableSeats: data.data.seatCapacity}});\n                        }).catch(()=>{\n                            alert(\"Change error.\");\n                        })\n                    }}>\n                    <option>Choose a flight</option> \n                    {flights.map((flight)=>(\n                        <option value={flight.flightNumber}>Flight {flight.flightNumber}, {flight.carrierName}. {flight.flightModel}, seat capacity: {flight.seatCapacity}</option>  \n                    ))}\n                    </select>\n                </div>\n                <button className=\"btn btn-primary\" onClick={(event)=>{\n                    event.preventDefault();\n                    service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(()=>{\n                        alert(\"Scheduled Flight added\");\n                        navigate(\"/links\")\n                    }).catch(()=>{\n                        alert(\"Problem in adding scheduled flights.\")\n                    })\n                    \n                }}>Add schedule</button>\n            </form>\n        </div>\n    );\n}\n\nexport default UpdateScheduledFlights;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}